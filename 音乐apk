import os
import pygame
from tkinter import Tk, filedialog, Listbox, Button

class MusicPlayer:
    def __init__(self, master):
        self.master = master
        self.master.title("简易音乐播放器")
        
        self.playlist = Listbox(self.master, selectmode=Listbox.SINGLE)
        self.playlist.pack(pady=20)

        self.browse_button = Button(self.master, text="选择音乐", command=self.browse_music)
        self.browse_button.pack(pady=10)

        self.play_button = Button(self.master, text="播放", command=self.play_music)
        self.play_button.pack(pady=10)

        pygame.init()

    def browse_music(self):
        file_path = filedialog.askopenfilename(defaultextension=".mp3", filetypes=[("MP3 files", "*.mp3")])
        if file_path:
            self.playlist.insert(0, os.path.basename(file_path))
            self.playlist.activate(0)
            self.music_path = file_path

    def play_music(self):
        try:
            pygame.mixer.music.load(self.music_path)
            pygame.mixer.music.play()
        except AttributeError:
            print("未选择音乐文件")

if __name__ == "__main__":
    root = Tk()
    music_player = MusicPlayer(root)
    root.mainloop()
pip install pygame
